// This C code was automatically generated by Aixt Project
// Device = PIC24FJ128GA010
// Board = Explorer 16
// Backend = c

#include <xc.h>
#include <stdint.h>
#include <stdbool.h>
#define FCY 32000000UL
#pragma config POSCMOD = NONE	//Primary Oscillator Select->Primary oscillator disabled
#pragma config OSCIOFNC = OFF	//Primary Oscillator Output Function->OSC2/CLKO/RC15 functions as CLKO (FOSC/2)
#pragma config FCKSM = CSDCMD	//Clock Switching and Monitor->Clock switching and Fail-Safe Clock Monitor are disabled
#pragma config FNOSC = FRCPLL	//Oscillator Select->Fast RC Oscillator with PLL module (FRCPLL)
#pragma config IESO = ON  		//Internal External Switch Over Mode->IESO mode (Two-Speed Start-up) enabled
#pragma config WDTPS = PS32768	//Watchdog Timer Postscaler->1:32768
#pragma config FWPSA = PR128    //WDT Prescaler->Prescaler ratio of 1:128
#pragma config WINDIS = ON    	//Watchdog Timer Window->Standard Watchdog Timer enabled,(Windowed-mode is disabled)
#pragma config FWDTEN = OFF    	//Watchdog Timer Enable->Watchdog Timer is disabled
#pragma config ICS = PGx2    	//Comm Channel Select->Emulator/debugger uses EMUC2/EMUD2
#pragma config BKBUG = OFF    	//Background Debug->Device resets into Operational mode
#pragma config GWRP = OFF    	//General Code Segment Write Protect->Writes to program memory are allowed
#pragma config GCP = OFF    	//General Code Segment Code Protect->Code protection is disabled
#pragma config JTAGEN = OFF     //JTAG Port Enable->JTAG port is disabled
#define led3    A, 0	// Onboard LEDs
#define led4    A, 1
#define led5    A, 2
#define led6    A, 3
#define led7    A, 4
#define led8    A, 5
#define led9    A, 6
#define led10   A, 7
#define sw3     D, 6	// Onboard switchs
#define sw4     D, 13
#define sw5     A, 7
#define sw6     D, 7
#define TRISa	TRISA	// port setup name equivalents
#define TRISb	TRISB
#define TRISc	TRISC
#define TRISd	TRISD
#define TRISe	TRISE
#define TRISf	TRISF
#define TRISg	TRISG
#define PORTa	PORTA	// port in name equivalents
#define PORTb	PORTB
#define PORTc	PORTC
#define PORTd	PORTD
#define PORTe	PORTE
#define PORTf	PORTF
#define PORTg	PORTG
#define LATa	LATA	// port out name equivalents
#define LATb	LATB
#define LATc	LATC
#define LATd	LATD
#define LATe	LATE
#define LATf	LATF
#define LATg	LATG
#define port__write(PORT_NAME, VALUE)	LAT ## PORT_NAME = VALUE
#define port__setup(PORT_NAME, VALUE)   TRIS ## PORT_NAME = VALUE
#define port__read(PORT_NAME)  PORT ## PORT_NAME
#define time__sleep_ms(TIME)    __delay_ms(TIME)

void main__init() {
		AD1PCFG = 0xFFDF;     	// Analog inputs for Explorer16 POT and TSENS
		AD1CSSL = 0;           	// no scanning required
		AD1CON2 = 0;           	// use MUXA, AVss and AVdd are used as Vref+/-
		AD1CON3 = 0x1F02;      	// Tsamp = 32 x Tad; Tad=125ns
		AD1CON1bits.ADON = 1;  	// turn on the ADC
	
		TRISA = 0xff00;        	// select the PORTA pins as outputs to drive the LEDs
		TRISDbits.TRISD6 =  1;	// inputs switches
		TRISDbits.TRISD13 = 1;	 
		TRISDbits.TRISD7 =  1;	 
		TRISBbits.TRISB5 =  1;	// potentiometer
}

int main(void ) {
	main__init();
	
	while(true) {
		port__write(a, 0b11111111);
		time__sleep_ms(200);
		port__write(a, 0b00000000);
		time__sleep_ms(200);
	}
	return 0;
}
